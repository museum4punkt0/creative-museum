<h1>Benutzer Ãœbersicht</h1>

<div class="row mb-3">
    <div class="col-6" id="db_list-searchbox-toolbar" style="">
        <f:form action="userOverview" object="{filter}" objectName="filter">
            <div class="input-group">
                <button class="btn btn-default" name="search" type="submit">
                    <span class="t3js-icon icon icon-size-small icon-state-default icon-actions-search"
                          data-identifier="actions-search">
                        <span class="icon-markup">
                            <svg class="icon-color">
                                <use xlink:href="/typo3/sysext/core/Resources/Public/Icons/T3Icons/sprites/actions.svg#actions-search"></use>
                            </svg>
                        </span>
                    </span>
                </button>
                <label class="visually-hidden" for="search_field">
                    Search term
                </label>
                <f:form.textfield id="search_field" property="searchString" class="form-control" placeholder="Name/Username/E-Mail" />
                <f:form.hidden property="page" value="1"/>

            </div>
        </f:form>
    </div>
</div>

<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>UUID</th>
        <th>Benutzername</th>
        <th>Status</th>
        <th>Vorname</th>
        <th>Nachname</th>
        <th>E-Mail</th>
        <th>Aktionen</th>
    </tr>
    </thead>
    <tbody>
    <f:for as="user" each="{paginator.paginatedItems}">
        <tr>
            <td>
                <a href="{f:uri.action(action:'userDetail', arguments:{user: user.uuid, filter: {page: paging.lastPageNumber, searchString: filter.searchString}})}">
                    {user.uuid}
                </a>
            </td>
            <td>{user.username}</td>
            <td>{f:if(condition: user.active, then: 'aktiv', else: 'inaktiv')}</td>
            <td>{user.firstName}</td>
            <td>{user.lastName}</td>
            <td>{user.email}</td>
            <td></td>
        </tr>
    </f:for>
    </tbody>
</table>
<f:render
    arguments="{
        paging: paging,
        pages: pages,
        paginator: paginator,
        actionName: actionName,
        searchString: filter.searchString
    }"
    partial="Paging.html"
/>